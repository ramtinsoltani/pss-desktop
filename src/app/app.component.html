<ng-template [ngIf]="! showLogin">
  <app-header></app-header>
  <app-explorer (dropzone)="onFileDrop($event)" tabindex="0" (focus)="onExplorerFocused()" (blur)="onExplorerBlurred()"></app-explorer>
  <app-footer></app-footer>
</ng-template>
<app-modal [modal-show]="showLogin">
  <form #f="ngForm" (ngSubmit)="login(f)">
    <div class="modal-header">Login</div>
    <div class="modal-body">
      <p @vsqueeze *ngIf="loginError" class="msg-error">{{ loginError }}</p>
      <p>Please login to your account to access the shared cloud.</p>
        <input class="block" placeholder="Username" name="username" type="text" required ngModel minlength="6" maxlength="32">
        <input class="block" placeholder="Password" name="password" type="password" required ngModel minlength="8" maxlength="64">
    </div>
    <div class="modal-footer">
      <button type="submit" [disabled]="f.invalid" class="btn btn-block btn-primary">Login</button>
    </div>
  </form>
</app-modal>
<app-modal [modal-show]="showOverwriteAlert" [modal-close]="modalCloseButton3" (modal-closed)="onOverwriteModalClosed()">
  <div class="modal-header">
    File Overwrite
  </div>
  <div class="modal-body">
    <p>The current upload operation would overwrite {{ overwrites.length }} file{{ overwrites.length > 1 ? 's' : '' }}, do you want to proceed?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger btn-block" (click)="onOverwriteModalConfirmed()">Proceed</button>
    <button type="button" class="btn btn-primary btn-block" #modalCloseButton3>Cancel</button>
  </div>
</app-modal>
